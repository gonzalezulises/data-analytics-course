id: ex-07-03-elbow
type: code-python
title: "Método del codo"
description: "Encuentra el k óptimo con el método del codo."
instructions: |
  Calcula inertia para k=1 a k=10 y guárdalo en lista.
difficulty: intermediate
estimated_time_minutes: 5
points: 12
order: 3
starter_code: |
  from sklearn.cluster import KMeans
  from sklearn.datasets import make_blobs
  import matplotlib.pyplot as plt
  
  X, _ = make_blobs(n_samples=200, centers=4, random_state=42)
  
  inertias = []
  K = range(1, 11)
  
  for k in K:
      kmeans = KMeans(n_clusters=k, random_state=42)
      kmeans.fit(X)
      inertias.append()
  
  plt.plot(K, inertias, 'bo-')
  plt.xlabel('k')
  plt.ylabel('Inertia')
  plt.title('Método del codo')
  plt.show()
  
  print(f"Inertias: {[round(i, 1) for i in inertias]}")
solution_code: |
  from sklearn.cluster import KMeans
  from sklearn.datasets import make_blobs
  import matplotlib.pyplot as plt
  
  X, _ = make_blobs(n_samples=200, centers=4, random_state=42)
  
  inertias = []
  K = range(1, 11)
  
  for k in K:
      kmeans = KMeans(n_clusters=k, random_state=42)
      kmeans.fit(X)
      inertias.append(kmeans.inertia_)
  
  plt.plot(K, inertias, 'bo-')
  plt.xlabel('k')
  plt.ylabel('Inertia')
  plt.title('Método del codo')
  plt.show()
  
  print(f"Inertias: {[round(i, 1) for i in inertias]}")
test_cases:
  - id: test-elbow
    name: "Inertias calculadas"
    test_code: |
      assert len(inertias) == 10, "❌ Deben ser 10 valores"
      assert inertias[0] > inertias[-1], "❌ Inertia debe decrecer"
      print("✅ Método del codo ejecutado")
    points: 12
hints:
  - "kmeans.inertia_ contiene la suma de distancias"
tags: [sklearn, elbow, kmeans]
concepts: [seleccion_k]
